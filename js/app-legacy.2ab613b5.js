(function(){"use strict";var t={2267:function(t,i,e){e(1682),e(4105),e(1658),e(376);var n=e(3470),o=e(3398),r=e(5795),s={class:"action-bar"},a={class:"page-num"},h=(0,o._)("p",{class:"credit"},[(0,o.Uk)(" Photos from "),(0,o._)("a",{href:"https://unsplash.com/",target:"_blank"},"Unsplash"),(0,o.Uk)(". ")],-1);function l(t,i,e,n,l,u){var c=(0,o.up)("Ribbon"),g=(0,o.up)("left-icon"),f=(0,o.up)("plus-icon"),p=(0,o.up)("minus-icon"),d=(0,o.up)("right-icon"),m=(0,o.up)("Flipbook");return(0,o.wg)(),(0,o.iD)("div",{id:"app",class:(0,r.C_)({"has-mouse":l.hasMouse}),onTouchstart:i[0]||(i[0]=function(t){return l.hasMouse=!1})},[(0,o.Wm)(c),(0,o.Wm)(m,{class:"flipbook",pages:l.pages,pagesHiRes:l.pagesHiRes,startPage:l.pageNum,ref:"flipbook",onFlipLeftStart:u.onFlipLeftStart,onFlipLeftEnd:u.onFlipLeftEnd,onFlipRightStart:u.onFlipRightStart,onFlipRightEnd:u.onFlipRightEnd,onZoomStart:u.onZoomStart,onZoomEnd:u.onZoomEnd},{default:(0,o.w5)((function(t){return[(0,o._)("div",s,[(0,o.Wm)(g,{class:(0,r.C_)(["btn left",{disabled:!t.canFlipLeft}]),onClick:t.flipLeft},null,8,["class","onClick"]),(0,o.Wm)(f,{class:(0,r.C_)(["btn plus",{disabled:!t.canZoomIn}]),onClick:t.zoomIn},null,8,["class","onClick"]),(0,o._)("span",a," Page "+(0,r.zw)(t.page)+" of "+(0,r.zw)(t.numPages),1),(0,o.Wm)(p,{class:(0,r.C_)(["btn minus",{disabled:!t.canZoomOut}]),onClick:t.zoomOut},null,8,["class","onClick"]),(0,o.Wm)(d,{class:(0,r.C_)(["btn right",{disabled:!t.canFlipRight}]),onClick:t.flipRight},null,8,["class","onClick"])])]})),_:1},8,["pages","pagesHiRes","startPage","onFlipLeftStart","onFlipLeftEnd","onFlipRightStart","onFlipRightEnd","onZoomStart","onZoomEnd"]),h],34)}e(4528);var u,c,g,f=e(4862),p=e(5553),d=e(2147),m=e(2653),v=(e(2577),e(9241),e(3786),e(6037),e(7987),e(501),e(4286),e(3590),e(8244),e(367)),w=function(){function t(t){t?t.m?this.m=[].concat(t.m):this.m=[].concat(t):this.m=(0,v.yR)()}return t.prototype.clone=function(){return new t(this)},t.prototype.multiply=function(t){return this.m=(0,v.Jp)(this.m,t)},t.prototype.perspective=function(t){return this.multiply((0,v.G3)(t))},t.prototype.transformX=function(t){return(t*this.m[0]+this.m[12])/(t*this.m[3]+this.m[15])},t.prototype.translate=function(t,i){return this.multiply((0,v.Iu)(t,i))},t.prototype.translate3d=function(t,i,e){return this.multiply((0,v.z2)(t,i,e))},t.prototype.rotateY=function(t){return this.multiply((0,v.uD)(t))},t.prototype.toString=function(){return(0,v.BB)(this.m)},t}(),y="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22500%22%20height%3D%22500%22%20viewBox%3D%220%200%20500%20500%22%20fill%3D%22transparent%22%20style%3D%22background-color%3A%20%23fff%22%3E%20%20%3Ccircle%20%20%20%20cx%3D%22250%22%20%20%20%20cy%3D%22250%22%20%20%20%20r%3D%2248%22%20%20%20%20stroke%3D%22%23333%22%20%20%20%20stroke-width%3D%222%22%20%20%20%20stroke-dasharray%3D%22271%2030%22%20%20%3E%20%20%20%20%3CanimateTransform%20%20%20%20%20%20attributeName%3D%22transform%22%20%20%20%20%20%20attributeType%3D%22XML%22%20%20%20%20%20%20type%3D%22rotate%22%20%20%20%20%20%20from%3D%220%20250%20250%22%20%20%20%20%20%20to%3D%22360%20250%20250%22%20%20%20%20%20%20dur%3D%221s%22%20%20%20%20%20%20repeatCount%3D%22indefinite%22%20%20%20%20%2F%3E%20%20%3C%2Fcircle%3E%3C%2Fsvg%3E";u=function(t){return Math.pow(t,2)},g=function(t){return 1-u(1-t)},c=function(t){return t<.5?u(2*t)/2:.5+g(2*(t-.5))/2};var P={props:{pages:{type:Array,required:!0},pagesHiRes:{type:Array,default:function(){return[]}},flipDuration:{type:Number,default:1e3},zoomDuration:{type:Number,default:500},zooms:{type:Array,default:function(){return[1,2,4]}},perspective:{type:Number,default:2400},nPolygons:{type:Number,default:10},ambient:{type:Number,default:.4},gloss:{type:Number,default:.6},swipeMin:{type:Number,default:3},singlePage:{type:Boolean,default:!1},forwardDirection:{validator:function(t){return"right"===t||"left"===t},default:"right"},centering:{type:Boolean,default:!0},startPage:{type:Number,default:null},loadingImage:{type:String,default:y},clickToZoom:{type:Boolean,default:!0},dragToFlip:{type:Boolean,default:!0},wheel:{type:String,default:"scroll"}},data:function(){return{viewWidth:0,viewHeight:0,imageWidth:null,imageHeight:null,displayedPages:1,nImageLoad:0,nImageLoadTrigger:0,imageLoadCallback:null,currentPage:0,firstPage:0,secondPage:1,zoomIndex:0,zoom:1,zooming:!1,touchStartX:null,touchStartY:null,maxMove:0,activeCursor:null,hasTouchEvents:!1,hasPointerEvents:!1,minX:Infinity,maxX:-Infinity,preloadedImages:{},flip:{progress:0,direction:null,frontImage:null,backImage:null,auto:!1,opacity:1},currentCenterOffset:null,animatingCenter:!1,startScrollLeft:0,startScrollTop:0,scrollLeft:0,scrollTop:0,loadedImages:{}}},computed:{IE:function(){return"undefined"!==typeof navigator&&/Trident/.test(navigator.userAgent)},canFlipLeft:function(){return"left"===this.forwardDirection?this.canGoForward:this.canGoBack},canFlipRight:function(){return"right"===this.forwardDirection?this.canGoForward:this.canGoBack},canZoomIn:function(){return!this.zooming&&this.zoomIndex<this.zooms_.length-1},canZoomOut:function(){return!this.zooming&&this.zoomIndex>0},numPages:function(){return null===this.pages[0]?this.pages.length-1:this.pages.length},page:function(){return null!==this.pages[0]?this.currentPage+1:Math.max(1,this.currentPage)},zooms_:function(){return this.zooms||[1]},canGoForward:function(){return!this.flip.direction&&this.currentPage<this.pages.length-this.displayedPages},canGoBack:function(){return!this.flip.direction&&this.currentPage>=this.displayedPages&&!(1===this.displayedPages&&!this.pageUrl(this.firstPage-1))},leftPage:function(){return"right"===this.forwardDirection||1===this.displayedPages?this.firstPage:this.secondPage},rightPage:function(){return"left"===this.forwardDirection?this.firstPage:this.secondPage},showLeftPage:function(){return this.pageUrl(this.leftPage)},showRightPage:function(){return this.pageUrl(this.rightPage)&&2===this.displayedPages},cursor:function(){return this.activeCursor?this.activeCursor:this.IE?"auto":this.clickToZoom&&this.canZoomIn?"zoom-in":this.clickToZoom&&this.canZoomOut?"zoom-out":this.dragToFlip?"grab":"auto"},pageScale:function(){var t,i,e,n;return i=this.viewWidth/this.displayedPages,e=i/this.imageWidth,n=this.viewHeight/this.imageHeight,t=e<n?e:n,t<1?t:1},pageWidth:function(){return Math.round(this.imageWidth*this.pageScale)},pageHeight:function(){return Math.round(this.imageHeight*this.pageScale)},xMargin:function(){return(this.viewWidth-this.pageWidth*this.displayedPages)/2},yMargin:function(){return(this.viewHeight-this.pageHeight)/2},polygonWidth:function(){var t;return t=this.pageWidth/this.nPolygons,t=Math.ceil(t+1/this.zoom),t+"px"},polygonHeight:function(){return this.pageHeight+"px"},polygonBgSize:function(){return this.pageWidth+"px "+this.pageHeight+"px"},polygonArray:function(){return this.makePolygonArray("front").concat(this.makePolygonArray("back"))},boundingLeft:function(){var t;return 1===this.displayedPages?this.xMargin:(t=this.pageUrl(this.leftPage)?this.xMargin:this.viewWidth/2,t<this.minX?t:this.minX)},boundingRight:function(){var t;return 1===this.displayedPages?this.viewWidth-this.xMargin:(t=this.pageUrl(this.rightPage)?this.viewWidth-this.xMargin:this.viewWidth/2,t>this.maxX?t:this.maxX)},centerOffset:function(){var t;return t=this.centering?Math.round(this.viewWidth/2-(this.boundingLeft+this.boundingRight)/2):0,null===this.currentCenterOffset&&null!==this.imageWidth&&(this.currentCenterOffset=t),t},centerOffsetSmoothed:function(){return Math.round(this.currentCenterOffset)},dragToScroll:function(){return!this.hasTouchEvents},scrollLeftMin:function(){var t;return t=(this.boundingRight-this.boundingLeft)*this.zoom,t<this.viewWidth?(this.boundingLeft+this.centerOffsetSmoothed)*this.zoom-(this.viewWidth-t)/2:(this.boundingLeft+this.centerOffsetSmoothed)*this.zoom},scrollLeftMax:function(){var t;return t=(this.boundingRight-this.boundingLeft)*this.zoom,t<this.viewWidth?(this.boundingLeft+this.centerOffsetSmoothed)*this.zoom-(this.viewWidth-t)/2:(this.boundingRight+this.centerOffsetSmoothed)*this.zoom-this.viewWidth},scrollTopMin:function(){var t;return t=this.pageHeight*this.zoom,t<this.viewHeight?this.yMargin*this.zoom-(this.viewHeight-t)/2:this.yMargin*this.zoom},scrollTopMax:function(){var t;return t=this.pageHeight*this.zoom,t<this.viewHeight?this.yMargin*this.zoom-(this.viewHeight-t)/2:(this.yMargin+this.pageHeight)*this.zoom-this.viewHeight},scrollLeftLimited:function(){return Math.min(this.scrollLeftMax,Math.max(this.scrollLeftMin,this.scrollLeft))},scrollTopLimited:function(){return Math.min(this.scrollTopMax,Math.max(this.scrollTopMin,this.scrollTop))}},mounted:function(){return window.addEventListener("resize",this.onResize,{passive:!0}),this.onResize(),this.zoom=this.zooms_[0],this.goToPage(this.startPage)},beforeDestroy:function(){return window.removeEventListener("resize",this.onResize,{passive:!0})},methods:{onResize:function(){var t;if(t=this.$refs.viewport,t)return this.viewWidth=t.clientWidth,this.viewHeight=t.clientHeight,this.displayedPages=this.viewWidth>this.viewHeight&&!this.singlePage?2:1,2===this.displayedPages&&(this.currentPage&=-2),this.fixFirstPage(),this.minX=Infinity,this.maxX=-Infinity},fixFirstPage:function(){if(1===this.displayedPages&&0===this.currentPage&&this.pages.length&&!this.pageUrl(0))return this.currentPage++},pageUrl:function(t,i){var e;return void 0===i&&(i=!1),i&&this.zoom>1&&!this.zooming&&(e=this.pagesHiRes[t],e)?e:this.pages[t]||null},pageUrlLoading:function(t,i){var e;return void 0===i&&(i=!1),e=this.pageUrl(t,i),i&&this.zoom>1&&!this.zooming?e:e&&this.loadImage(e)},flipLeft:function(){if(this.canFlipLeft)return this.flipStart("left",!0)},flipRight:function(){if(this.canFlipRight)return this.flipStart("right",!0)},makePolygonArray:function(t){var i,e,n,o,r,s,a,h,l,u,c,g,f,p,d,m,v,y,P,b,M,I,z,k,L,x;if(!this.flip.direction)return[];for(d=this.flip.progress,o=this.flip.direction,1===this.displayedPages&&o!==this.forwardDirection&&(d=1-d,o=this.forwardDirection),this.flip.opacity=1===this.displayedPages&&d>.7?1-(d-.7)/.3:1,s="front"===t?this.flip.frontImage:this.flip.backImage,p=this.pageWidth/this.nPolygons,f=this.xMargin,u=!1,1===this.displayedPages?"right"===this.forwardDirection?"back"===t&&(u=!0,f=this.xMargin-this.pageWidth):"left"===o?"back"===t?f=this.pageWidth-this.xMargin:u=!0:"front"===t?f=this.pageWidth-this.xMargin:u=!0:"left"===o?"back"===t?f=this.viewWidth/2:u=!0:"front"===t?f=this.viewWidth/2:u=!0,c=new w,c.translate(this.viewWidth/2),c.perspective(this.perspective),c.translate(-this.viewWidth/2),c.translate(f,this.yMargin),g=0,d>.5&&(g=2*-(d-.5)*180),"left"===o&&(g=-g),"back"===t&&(g+=180),g&&(u&&c.translate(this.pageWidth),c.rotateY(g),u&&c.translate(-this.pageWidth)),I=d<.5?2*d*Math.PI:(1-2*(d-.5))*Math.PI,0===I&&(I=1e-9),y=this.pageWidth/I,v=0,e=I/this.nPolygons,M=e/2/Math.PI*180,n=e/Math.PI*180,u&&(M=-I/Math.PI*180+n/2),"back"===t&&(M=-M,n=-n),this.minX=Infinity,this.maxX=-Infinity,b=[],r=a=0,P=this.nPolygons;0<=P?a<P:a>P;r=0<=P?++a:--a)i=r/(this.nPolygons-1)*100+"% 0px",l=c.clone(),m=u?I-v:v,z=Math.sin(m)*y,u&&(z=this.pageWidth-z),x=(1-Math.cos(m))*y,"back"===t&&(x=-x),l.translate3d(z,0,x),l.rotateY(-M),k=l.transformX(0),L=l.transformX(p),this.maxX=Math.max(Math.max(k,L),this.maxX),this.minX=Math.min(Math.min(k,L),this.minX),h=this.computeLighting(g-M,n),v+=e,M+=n,b.push([t+r,s,h,i,l.toString(),Math.abs(Math.round(x))]);return b},computeLighting:function(t,i){var e,n,o,r,s,a,h;return s=[],a=[-.5,-.25,0,.25,.5],this.ambient<1&&(o=1-this.ambient,r=a.map((function(e){return(1-Math.cos((t-i*e)/180*Math.PI))*o})),s.push("linear-gradient(to right,\n  rgba(0, 0, 0, "+r[0]+"),\n  rgba(0, 0, 0, "+r[1]+") 25%,\n  rgba(0, 0, 0, "+r[2]+") 50%,\n  rgba(0, 0, 0, "+r[3]+") 75%,\n  rgba(0, 0, 0, "+r[4]+"))")),this.gloss>0&&!this.IE&&(e=30,n=200,h=a.map((function(o){return Math.max(Math.pow(Math.cos((t+e-i*o)/180*Math.PI),n),Math.pow(Math.cos((t-e-i*o)/180*Math.PI),n))})),s.push("linear-gradient(to right,\n  rgba(255, 255, 255, "+h[0]*this.gloss+"),\n  rgba(255, 255, 255, "+h[1]*this.gloss+") 25%,\n  rgba(255, 255, 255, "+h[2]*this.gloss+") 50%,\n  rgba(255, 255, 255, "+h[3]*this.gloss+") 75%,\n  rgba(255, 255, 255, "+h[4]*this.gloss+"))")),s.join(",")},flipStart:function(t,i){var e=this;return t!==this.forwardDirection?1===this.displayedPages?(this.flip.frontImage=this.pageUrl(this.currentPage-1),this.flip.backImage=null):(this.flip.frontImage=this.pageUrl(this.firstPage),this.flip.backImage=this.pageUrl(this.currentPage-this.displayedPages+1)):1===this.displayedPages?(this.flip.frontImage=this.pageUrl(this.currentPage),this.flip.backImage=null):(this.flip.frontImage=this.pageUrl(this.secondPage),this.flip.backImage=this.pageUrl(this.currentPage+this.displayedPages)),this.flip.direction=t,this.flip.progress=0,requestAnimationFrame((function(){return requestAnimationFrame((function(){if(e.flip.direction!==e.forwardDirection?2===e.displayedPages&&(e.firstPage=e.currentPage-e.displayedPages):1===e.displayedPages?e.firstPage=e.currentPage+e.displayedPages:e.secondPage=e.currentPage+1+e.displayedPages,i)return e.flipAuto(!0)}))}))},flipAuto:function(t){var i,e,n,o,r=this;return o=Date.now(),e=this.flipDuration*(1-this.flip.progress),n=this.flip.progress,this.flip.auto=!0,this.$emit("flip-"+this.flip.direction+"-start",this.page),i=function(){return requestAnimationFrame((function(){var s,a;return a=Date.now()-o,s=n+a/e,s>1&&(s=1),r.flip.progress=t?c(s):s,s<1?i():(r.flip.direction!==r.forwardDirection?r.currentPage-=r.displayedPages:r.currentPage+=r.displayedPages,r.$emit("flip-"+r.flip.direction+"-end",r.page),1===r.displayedPages&&r.flip.direction===r.forwardDirection?r.flip.direction=null:r.onImageLoad(1,(function(){return r.flip.direction=null})),r.flip.auto=!1)}))},i()},flipRevert:function(){var t,i,e,n,o=this;return n=Date.now(),i=this.flipDuration*this.flip.progress,e=this.flip.progress,this.flip.auto=!0,t=function(){return requestAnimationFrame((function(){var r,s;return s=Date.now()-n,r=e-e*s/i,r<0&&(r=0),o.flip.progress=r,r>0?t():(o.firstPage=o.currentPage,o.secondPage=o.currentPage+1,1===o.displayedPages&&o.flip.direction!==o.forwardDirection?o.flip.direction=null:o.onImageLoad(1,(function(){return o.flip.direction=null})),o.flip.auto=!1)}))},t()},onImageLoad:function(t,i){return this.nImageLoad=0,this.nImageLoadTrigger=t,this.imageLoadCallback=i},didLoadImage:function(t){if(null===this.imageWidth&&(this.imageWidth=(t.target||t.path[0]).naturalWidth,this.imageHeight=(t.target||t.path[0]).naturalHeight,this.preloadImages()),this.imageLoadCallback)return++this.nImageLoad>=this.nImageLoadTrigger?(this.imageLoadCallback(),this.imageLoadCallback=null):void 0},zoomIn:function(t){if(void 0===t&&(t=null),this.canZoomIn)return this.zoomIndex+=1,this.zoomTo(this.zooms_[this.zoomIndex],t)},zoomOut:function(t){if(void 0===t&&(t=null),this.canZoomOut)return this.zoomIndex-=1,this.zoomTo(this.zooms_[this.zoomIndex],t)},zoomTo:function(t,i){var e,n,o,r,s,a,h,l,u,g,f,p,d,m,v=this;if(void 0===i&&(i=null),m=this.$refs.viewport,i?(u=m.getBoundingClientRect(),h=i.pageX-u.left,l=i.pageY-u.top):(h=m.clientWidth/2,l=m.clientHeight/2),g=this.zoom,r=t,f=m.scrollLeft,p=m.scrollTop,n=h+f,o=l+p,s=n/g*r-h,a=o/g*r-l,d=Date.now(),this.zooming=!0,this.$emit("zoom-start",t),e=function(){return requestAnimationFrame((function(){var i,n;return n=Date.now()-d,i=n/v.zoomDuration,(i>1||v.IE)&&(i=1),i=c(i),v.zoom=g+(r-g)*i,v.scrollLeft=f+(s-f)*i,v.scrollTop=p+(a-p)*i,n<v.zoomDuration?e():(v.$emit("zoom-end",t),v.zooming=!1,v.zoom=t,v.scrollLeft=s,v.scrollTop=a)}))},e(),r>1)return this.preloadImages(!0)},zoomAt:function(t){return this.zoomIndex=(this.zoomIndex+1)%this.zooms_.length,this.zoomTo(this.zooms_[this.zoomIndex],t)},swipeStart:function(t){return this.touchStartX=t.pageX,this.touchStartY=t.pageY,this.maxMove=0,this.zoom<=1?this.dragToFlip?this.activeCursor="grab":void 0:(this.startScrollLeft=this.$refs.viewport.scrollLeft,this.startScrollTop=this.$refs.viewport.scrollTop,this.activeCursor="all-scroll")},swipeMove:function(t){var i,e;if(null!=this.touchStartX)if(i=t.pageX-this.touchStartX,e=t.pageY-this.touchStartY,this.maxMove=Math.max(this.maxMove,Math.abs(i)),this.maxMove=Math.max(this.maxMove,Math.abs(e)),this.zoom>1)this.dragToScroll&&this.dragScroll(i,e);else if(this.dragToFlip&&!(Math.abs(e)>Math.abs(i)))return this.activeCursor="grabbing",i>0?(null===this.flip.direction&&this.canFlipLeft&&i>=this.swipeMin&&this.flipStart("left",!1),"left"===this.flip.direction&&(this.flip.progress=i/this.pageWidth,this.flip.progress>1&&(this.flip.progress=1))):(null===this.flip.direction&&this.canFlipRight&&i<=-this.swipeMin&&this.flipStart("right",!1),"right"===this.flip.direction&&(this.flip.progress=-i/this.pageWidth,this.flip.progress>1&&(this.flip.progress=1))),!0},swipeEnd:function(t){if(null!=this.touchStartX)return this.clickToZoom&&this.maxMove<this.swipeMin&&this.zoomAt(t),null===this.flip.direction||this.flip.auto||(this.flip.progress>1/4?this.flipAuto(!1):this.flipRevert()),this.touchStartX=null,this.activeCursor=null},onTouchStart:function(t){return this.hasTouchEvents=!0,this.swipeStart(t.changedTouches[0])},onTouchMove:function(t){if(this.swipeMove(t.changedTouches[0])&&t.cancelable)return t.preventDefault()},onTouchEnd:function(t){return this.swipeEnd(t.changedTouches[0])},onPointerDown:function(t){if(this.hasPointerEvents=!0,!this.hasTouchEvents&&(!t.which||1===t.which)){this.swipeStart(t);try{return t.target.setPointerCapture(t.pointerId)}catch(i){}}},onPointerMove:function(t){if(!this.hasTouchEvents)return this.swipeMove(t)},onPointerUp:function(t){if(!this.hasTouchEvents){this.swipeEnd(t);try{return t.target.releasePointerCapture(t.pointerId)}catch(i){}}},onMouseDown:function(t){if(!this.hasTouchEvents&&!this.hasPointerEvents&&(!t.which||1===t.which))return this.swipeStart(t)},onMouseMove:function(t){if(!this.hasTouchEvents&&!this.hasPointerEvents)return this.swipeMove(t)},onMouseUp:function(t){if(!this.hasTouchEvents&&!this.hasPointerEvents)return this.swipeEnd(t)},dragScroll:function(t,i){return this.scrollLeft=this.startScrollLeft-t,this.scrollTop=this.startScrollTop-i},onWheel:function(t){if("scroll"===this.wheel&&this.zoom>1&&this.dragToScroll&&(this.scrollLeft=this.$refs.viewport.scrollLeft+t.deltaX,this.scrollTop=this.$refs.viewport.scrollTop+t.deltaY,t.cancelable&&t.preventDefault()),"zoom"===this.wheel){if(t.deltaY>=100)return this.zoomOut(t),t.preventDefault();if(t.deltaY<=-100)return this.zoomIn(t),t.preventDefault()}},preloadImages:function(t){var i,e,n,o,r,s,a,h;for(void 0===t&&(t=!1),i=e=o=this.currentPage-3,r=this.currentPage+3;o<=r?e<=r:e>=r;i=o<=r?++e:--e)this.pageUrlLoading(i);if(t)for(i=n=s=this.currentPage,a=this.currentPage+this.displayedPages;s<=a?n<a:n>a;i=s<=a?++n:--n)h=this.pagesHiRes[i],h&&((new Image).src=h)},goToPage:function(t){if(null!==t&&t!==this.page)return null===this.pages[0]?2===this.displayedPages&&1===t?this.currentPage=0:this.currentPage=t:this.currentPage=t-1,this.minX=Infinity,this.maxX=-Infinity,this.currentCenterOffset=this.centerOffset},loadImage:function(t){var i,e=this;return null===this.imageWidth||this.loadedImages[t]?t:(i=new Image,i.onload=function(){return e.$set?e.$set(e.loadedImages,t,!0):e.loadedImages[t]=!0},i.src=t,this.loadingImage)}},watch:{currentPage:function(){return this.firstPage=this.currentPage,this.secondPage=this.currentPage+1,this.preloadImages()},centerOffset:function(){var t,i=this;if(!this.animatingCenter)return t=function(){return requestAnimationFrame((function(){var e,n;return n=.1,e=i.centerOffset-i.currentCenterOffset,Math.abs(e)<.5?(i.currentCenterOffset=i.centerOffset,i.animatingCenter=!1):(i.currentCenterOffset+=e*n,t())}))},this.animatingCenter=!0,t()},scrollLeftLimited:function(t){var i=this;return this.IE?requestAnimationFrame((function(){return i.$refs.viewport.scrollLeft=t})):this.$refs.viewport.scrollLeft=t},scrollTopLimited:function(t){var i=this;return this.IE?requestAnimationFrame((function(){return i.$refs.viewport.scrollTop=t})):this.$refs.viewport.scrollTop=t},pages:function(t,i){if(this.fixFirstPage(),!(null!=i?i.length:void 0)&&(null!=t?t.length:void 0)&&this.startPage>1&&null===t[0])return this.currentPage++},startPage:function(t){return this.goToPage(t)}}},b=["src"],M=["src"];function I(t,i){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.WI)(t.$slots,"default",(0,r.vs)((0,o.F4)({canFlipLeft:t.canFlipLeft,canFlipRight:t.canFlipRight,canZoomIn:t.canZoomIn,canZoomOut:t.canZoomOut,page:t.page,numPages:t.numPages,flipLeft:t.flipLeft,flipRight:t.flipRight,zoomIn:t.zoomIn,zoomOut:t.zoomOut}))),(0,o._)("div",{class:(0,r.C_)(["viewport",{zoom:t.zooming||t.zoom>1,"drag-to-scroll":t.dragToScroll}]),ref:"viewport",style:(0,r.j5)({cursor:"grabbing"==t.cursor?"grabbing":"auto"}),onTouchmove:i[7]||(i[7]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onTouchMove&&t.onTouchMove.apply(t,i)}),onPointermove:i[8]||(i[8]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onPointerMove&&t.onPointerMove.apply(t,i)}),onMousemove:i[9]||(i[9]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onMouseMove&&t.onMouseMove.apply(t,i)}),onTouchend:i[10]||(i[10]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onTouchEnd&&t.onTouchEnd.apply(t,i)}),onTouchcancel:i[11]||(i[11]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onTouchEnd&&t.onTouchEnd.apply(t,i)}),onPointerup:i[12]||(i[12]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onPointerUp&&t.onPointerUp.apply(t,i)}),onPointercancel:i[13]||(i[13]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onPointerUp&&t.onPointerUp.apply(t,i)}),onMouseup:i[14]||(i[14]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onMouseUp&&t.onMouseUp.apply(t,i)}),onWheel:i[15]||(i[15]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onWheel&&t.onWheel.apply(t,i)})},[(0,o._)("div",{class:"flipbook-container",style:(0,r.j5)({transform:"scale("+t.zoom+")"})},[(0,o._)("div",{class:"click-to-flip left",style:(0,r.j5)({cursor:t.canFlipLeft?"pointer":"auto"}),onClick:i[0]||(i[0]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.flipLeft&&t.flipLeft.apply(t,i)})},null,4),(0,o._)("div",{class:"click-to-flip right",style:(0,r.j5)({cursor:t.canFlipRight?"pointer":"auto"}),onClick:i[1]||(i[1]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.flipRight&&t.flipRight.apply(t,i)})},null,4),(0,o._)("div",{style:(0,r.j5)({transform:"translateX("+t.centerOffsetSmoothed+"px)"})},[t.showLeftPage?((0,o.wg)(),(0,o.iD)("img",{key:0,class:"page fixed",style:(0,r.j5)({width:t.pageWidth+"px",height:t.pageHeight+"px",left:t.xMargin+"px",top:t.yMargin+"px"}),src:t.pageUrlLoading(t.leftPage,!0),onLoad:i[2]||(i[2]=function(i){return t.didLoadImage(i)})},null,44,b)):(0,o.kq)("v-if",!0),t.showRightPage?((0,o.wg)(),(0,o.iD)("img",{key:1,class:"page fixed",style:(0,r.j5)({width:t.pageWidth+"px",height:t.pageHeight+"px",left:t.viewWidth/2+"px",top:t.yMargin+"px"}),src:t.pageUrlLoading(t.rightPage,!0),onLoad:i[3]||(i[3]=function(i){return t.didLoadImage(i)})},null,44,M)):(0,o.kq)("v-if",!0),(0,o._)("div",{style:(0,r.j5)({opacity:t.flip.opacity})},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.polygonArray,(function(i){var e=i[0],s=i[1],a=i[2],h=i[3],l=i[4],u=i[5];return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)(["polygon",{blank:!s}]),key:e,style:(0,r.j5)({backgroundImage:s&&"url("+t.loadImage(s)+")",backgroundSize:t.polygonBgSize,backgroundPosition:h,width:t.polygonWidth,height:t.polygonHeight,transform:l,zIndex:u})},[(0,o.wy)((0,o._)("div",{class:"lighting",style:(0,r.j5)({backgroundImage:a})},null,4),[[n.F8,a.length]])],6)})),128))],4),(0,o._)("div",{class:"bounding-box",style:(0,r.j5)({left:t.boundingLeft+"px",top:t.yMargin+"px",width:t.boundingRight-t.boundingLeft+"px",height:t.pageHeight+"px",cursor:t.cursor}),onTouchstart:i[4]||(i[4]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onTouchStart&&t.onTouchStart.apply(t,i)}),onPointerdown:i[5]||(i[5]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onPointerDown&&t.onPointerDown.apply(t,i)}),onMousedown:i[6]||(i[6]=function(){var i=[],e=arguments.length;while(e--)i[e]=arguments[e];return t.onMouseDown&&t.onMouseDown.apply(t,i)})},null,36)],4)],4)],38)])}var z=[],k=[];function L(t,i){if(t&&"undefined"!=typeof document){var e,n=!0===i.prepend?"prepend":"append",o=!0===i.singleTag,r="string"==typeof i.container?document.querySelector(i.container):document.getElementsByTagName("head")[0];if(o){var s=z.indexOf(r);-1===s&&(s=z.push(r)-1,k[s]={}),e=k[s]&&k[s][n]?k[s][n]:k[s][n]=a()}else e=a();65279===t.charCodeAt(0)&&(t=t.substring(1)),e.styleSheet?e.styleSheet.cssText+=t:e.appendChild(document.createTextNode(t))}function a(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),i.attributes)for(var e=Object.keys(i.attributes),o=0;o<e.length;o++)t.setAttribute(e[o],i.attributes[e[o]]);var s="prepend"===n?"afterbegin":"beforeend";return r.insertAdjacentElement(s,t),t}}var x=".viewport[data-v-5c04eecf]{-webkit-overflow-scrolling:touch;height:100%;width:100%}.viewport.zoom[data-v-5c04eecf]{overflow:scroll}.viewport.zoom.drag-to-scroll[data-v-5c04eecf]{overflow:hidden}.flipbook-container[data-v-5c04eecf]{height:100%;position:relative;-webkit-transform-origin:top left;transform-origin:top left;-webkit-user-select:none;user-select:none;width:100%}.click-to-flip[data-v-5c04eecf]{height:100%;position:absolute;top:0;-webkit-user-select:none;user-select:none;width:50%}.click-to-flip.left[data-v-5c04eecf]{left:0}.click-to-flip.right[data-v-5c04eecf]{right:0}.bounding-box[data-v-5c04eecf]{position:absolute;-webkit-user-select:none;user-select:none}.page[data-v-5c04eecf],.polygon[data-v-5c04eecf]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute}.polygon[data-v-5c04eecf]{background-repeat:no-repeat;left:0;top:0;-webkit-transform-origin:center left;transform-origin:center left}.polygon.blank[data-v-5c04eecf]{background-color:#ddd}.polygon .lighting[data-v-5c04eecf]{height:100%;width:100%}";L(x,{}),P.render=I,P.__scopeId="data-v-5c04eecf",P.__file="src/Flipbook.vue";var T=function(t){return(0,o.dD)("data-v-75601d4e"),t=t(),(0,o.Cn)(),t},F={class:"github-ribbon"},D=T((function(){return(0,o._)("a",{target:"_blank",href:"https://github.com/ts1/flipbook-vue"},"Fork me on GitHub",-1)})),S=[D];function W(t,i){return(0,o.wg)(),(0,o.iD)("div",F,S)}var C=e(3006);const E={},R=(0,C.Z)(E,[["render",W],["__scopeId","data-v-75601d4e"]]);var O=R,H={components:{Flipbook:P,LeftIcon:f.Z,RightIcon:p.Z,PlusIcon:d.Z,MinusIcon:m.Z,Ribbon:O},data:function(){return{pages:[],pagesHiRes:[],hasMouse:!0,pageNum:null}},methods:{onFlipLeftStart:function(t){console.log("flip-left-start",t)},onFlipLeftEnd:function(t){console.log("flip-left-end",t),window.location.hash="#"+t},onFlipRightStart:function(t){console.log("flip-right-start",t)},onFlipRightEnd:function(t){console.log("flip-right-end",t),window.location.hash="#"+t},onZoomStart:function(t){console.log("zoom-start",t)},onZoomEnd:function(t){console.log("zoom-end",t)},setPageFromHash:function(){var t=parseInt(window.location.hash.slice(1),10);isFinite(t)&&(this.pageNum=t)}},mounted:function(){var t=this;window.addEventListener("keydown",(function(i){var e=t.$refs.flipbook;e&&(37==i.keyCode&&e.canFlipLeft&&e.flipLeft(),39==i.keyCode&&e.canFlipRight&&e.flipRight())})),setTimeout((function(){t.pages=[null,"images/1.jpg","images/2.jpg","images/3.jpg","images/4.jpg","images/5.jpg","images/6.jpg"],t.pagesHiRes=[null,"images-large/1.jpg","images-large/2.jpg","images-large/3.jpg","images-large/4.jpg","images-large/5.jpg","images-large/6.jpg"]}),1),window.addEventListener("hashchange",this.setPageFromHash),this.setPageFromHash()}};const _=(0,C.Z)(H,[["render",l]]);var j=_;(0,n.ri)(j).mount("#app")}},i={};function e(n){var o=i[n];if(void 0!==o)return o.exports;var r=i[n]={exports:{}};return t[n](r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(i,n,o,r){if(!n){var s=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],r=t[u][2];for(var a=!0,h=0;h<n.length;h++)(!1&r||s>=r)&&Object.keys(e.O).every((function(t){return e.O[t](n[h])}))?n.splice(h--,1):(a=!1,r<s&&(s=r));if(a){t.splice(u--,1);var l=o();void 0!==l&&(i=l)}}return i}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,o,r]}}(),function(){e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,{a:i}),i}}(),function(){e.d=function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){var t={143:0};e.O.j=function(i){return 0===t[i]};var i=function(i,n){var o,r,s=n[0],a=n[1],h=n[2],l=0;if(s.some((function(i){return 0!==t[i]}))){for(o in a)e.o(a,o)&&(e.m[o]=a[o]);if(h)var u=h(e)}for(i&&i(n);l<s.length;l++)r=s[l],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(u)},n=self["webpackChunkdemo"]=self["webpackChunkdemo"]||[];n.forEach(i.bind(null,0)),n.push=i.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(2267)}));n=e.O(n)})();
//# sourceMappingURL=app-legacy.2ab613b5.js.map